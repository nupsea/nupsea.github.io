---
import type { CollectionEntry } from 'astro:content';
import Layout from '../layouts/Layout.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;

// Format date helper
function formatDate(date: Date) {
  return new Date(date).toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
}
---

<Layout>
  <article class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <div class="mb-10 text-center">
      <div class="text-slate-500 mb-4">
        <time datetime={pubDate.toISOString()}>
          {formatDate(pubDate)}
        </time>
        {updatedDate && (
          <div class="italic">
            Last updated on <time datetime={updatedDate.toISOString()}>{formatDate(updatedDate)}</time>
          </div>
        )}
      </div>
      <h1 class="text-4xl font-extrabold tracking-tight text-slate-900 sm:text-5xl mb-4">{title}</h1>
      <p class="text-xl text-slate-600 max-w-2xl mx-auto">{description}</p>
      <hr class="mt-8 border-slate-200" />
    </div>

    {heroImage && <img width={1020} height={510} src={heroImage} alt="" class="rounded-xl shadow-lg mb-10 w-full" />}

    <div class="prose prose-lg prose-blue mx-auto">
      <slot />
    </div>
  </article>
</Layout>
